<html>
	<head>
		<title>Thyng</title>
		<link rel="stylesheet" href="libs/bootstrap/dist/css/bootstrap.min.css">
		<link rel="stylesheet" href="libs/font-awesome/css/font-awesome.min.css">
		<link rel="stylesheet" href="libs/admin-lte/css/AdminLTE.min.css">
		<link rel="stylesheet" href="libs/admin-lte/css/skins/skin-blue.min.css">
		<link rel="stylesheet" href="libs/bootstrap/dist/css/bootstrap.min.css">
		<link rel="stylesheet" href="libs/jquery-modal/0.9.1/jquery.modal.min.css">
		<link rel="stylesheet" href="libs\datatables.net-bs\css\dataTables.bootstrap.min.css">
		<link rel="stylesheet"  href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
		<style type="text/css">
			.modal{
				width: auto;
				max-width: none;
				padding: 0;
			}
		</style>
	</head>
	<body class="hold-transition skin-blue sidebar-mini">
		<div class="wrapper">
			 <header class="main-header">
				 	<a href="#" class="logo">
				      <span class="logo-mini"><b>T</b></span>
				      <span class="logo-lg"><b>Thyng</b></span>
				    </a>
			      <nav class="navbar navbar-static-top" role="navigation">
			      	 <a href="#" class="sidebar-toggle" data-toggle="push-menu" role="button">
				     	<span class="sr-only">Toggle navigation</span>
				     </a>
				     <div class="navbar-custom-menu">
				     	<ul class="nav navbar-nav">
				     		 <li class="dropdown messages-menu">
					            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
					              <i class="fa fa-envelope-o"></i>
					              <span class="label label-success">4</span>
					            </a>
					         </li>
					          <li class="dropdown notifications-menu">
					          	 <a href="#" class="dropdown-toggle" data-toggle="dropdown">
						              <i class="fa fa-bell-o"></i>
						              <span class="label label-warning">10</span>
						         </a>
					          </li>
				     	</ul>
				     </div>
			      </nav>
			 </header>
			 <aside class="main-sidebar">
			 	 <section class="sidebar">
			 	 	 <ul class="sidebar-menu" data-widget="tree">
				        <li id="menu-dashboard" data-event="show-main-dashboard"><a href="#"><i class="fa fa-dashboard"></i> <span>Dashboard</span></a></li>
				        <li id="menu-templates" data-event="show-template-list-view"><a href="#"><i class="fa fa-clone"></i> <span>Templates</span></a></li>
				        <li id="menu-groups"><a href="#"><i class="fa fa-link"></i> <span>Groups</span></a></li>
				        <li id="menu-things"><a href="#"><i class="fa fa-link"></i> <span>Things</span></a></li>
				        <li id="menu-rules"><a href="#"><i class="fa fa-link"></i> <span>Rules</span></a></li>
				        <li id="menu-alerts"><a href="#"><i class="fa fa-bell"></i> <span>Alerts</span></a></li>
				        <li id="menu-users"><a href="#"><i class="fa fa-user"></i> <span>Users</span></a></li>
				      </ul>
			 	 </section>
			 </aside>
			<div class="content-wrapper"></div>
		</div>
		<div class="modal"></div>
		<script src="libs/jquery/dist/jquery.min.js"></script>
		<script src="libs/jquery-tiny-pubsub/ba-tiny-pubsub.min.js"></script>
		<script src="libs/loadTemplate/jquery.loadTemplate.js"></script>
		<script src="libs/bootstrap/dist/js/bootstrap.min.js"></script>
		<script src="libs/slim-scroll/jquery.slimscroll.min.js"></script>
		<script src="libs/datatables.net/js/jquery.dataTables.min.js"></script>
		<script src="libs/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
		<script src="libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
		<script src="libs/admin-lte/js/adminlte.min.js"></script>
		
		<script src="pages/dashboard/service.js"></script>
		<script src="pages/templates/service.js"></script>
		<script src="pages/metrics/service.js"></script>
		<script>
		$.addTemplateFormatter("MapFormatter", function(value, template) {
		            return $.map(value, function(val,key){
		        		return key + "=" + val;
		        	}).join("\n");
		        }
		);	
		
		$(".sidebar-menu > li").click(function(){
			if(!$(this).hasClass("active")){
				$(".sidebar-menu > li").removeClass("active");
				$.publish($(this).addClass("active").attr("data-event"));
			}
		});

		$(function(){
			$("#menu-dashboard").trigger("click");
		});
		
			var showConfirmationModal = function(title, text, cancelButtonText, actionButtonText, actionButtonStyleClass, cancelCallback, actionCallback){
				$(".modal").load(window.location.origin+"/pages/utils/confirmation.html", function(){
					$("#confirmation-modal-title").text(title);
					$("#confirmation-modal-message").text(text);
					
					$("#confirmation-cancel-button").text(cancelButtonText);
					$("#confirmation-cancel-button").click(function(){$.modal.close();});
					if(null != cancelCallback){
						$("#confirmation-cancel-button").click(cancelCallback);
					}
					
					$("#confirmation-action-button").text(actionButtonText);
					$("#confirmation-action-button").addClass(actionButtonStyleClass);
					$("#confirmation-action-button").click(function(){$.modal.close();});
					if(null != actionCallback){
						$("#confirmation-action-button").click(actionCallback);
					}
					
					$(".modal").modal({
						closeExisting: false
					});
				});
			}

		</script>
	</body>
</html>